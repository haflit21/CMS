{% extends '::admin.html.twig' %}
{% block title "Dashboard" %}

{% block body %}
<div class="row-fluid">
	<div class="span12">
		<div class="span4 actions_dashboard">
			<div class="widget-header">
				<h5>{% trans %}Contents{% endtrans %}</h5>
			</div>	
			<a href="{{ path('contents') }}">
				<span class="li_note">&nbsp;</span>
			</a>			
			<div class="stats">
				<div class="span6 first">
					<span class="nb" id="nb_content"></span><br />
					{% trans %}contents{% endtrans %}
				</div>
				<div class="span6">
					<span class="nb" id="nb_categories"></span><br />
					{% trans %}categories{% endtrans %}
				</div>
			</div>
		</div>
		<div class="span4 actions_dashboard">
			<div class="widget-header">
				<h5>{% trans %}Messages{% endtrans %}</h5>
			</div>	
			<a href="{{ path('contacts_list') }}">
				<span class="li_stack">&nbsp;</span>
			</a>
			<div class="stats">
				<div class="span6 first">
					<span class="nb">3</span><br />
					{% trans %}unread{% endtrans %}
				</div>
				<div class="span6">
					<span class="nb">4</span><br>
					{% trans %}messages{% endtrans %}
				</div>	
			</div>
		</div>
		<div class="span4 actions_dashboard">
			<div class="widget-header">
				<h5>{% trans %}Medias{% endtrans %}</h5>
			</div>	
			<a href="{{ path('medias') }}">
				<span class="li_camera">&nbsp;</span>
			</a>
			<div class="stats">
				<div class="span6 first">
					<span class="nb">10</span><br>
					{% trans %}images{% endtrans %}
				</div>
				<div class="span6">
					<span class="nb">20</span><br>
					{% trans %}medias{% endtrans %}
				</div>		
			</div>
		</div>
		
		{#<div class="span3 actions_dashboard">
			<div class="widget-header  vert">
				<h5>{% trans %}Langues{% endtrans %}</h5>
				<a href="{{ path('languages') }}">
					<span class="li_settings">&nbsp;</span>
				</a>
			</div>
			<div class="stats">
				<div class="span6 first"></div>
				<div class="span6"></div>
			</div>
		</div>#}
	</div>
</div>

<div class="h20 clearfix"></div>
<div class="row-fluid">
	<div class="span12">
		{#
		<div class="span4 actions_dashboard">
			{% render "CMSDashboardBundle:Agenda:index" with {'year':year, 'month': month } %}
		</div>#}
		
		<div class="span4 actions_dashboard">
			<div class="widget-header">
				<h5>{% trans %}Messages{% endtrans %}</h5>
			</div>	
			<a href="{{ path('contacts_list') }}">
				<span class="li_mail">&nbsp;</span>
			</a>
			<div class="stats">
				<canvas id="myChart" width="295" height="142"></canvas>
			</div>
		</div>
		
		<div class="span4 actions_dashboard">
			<div class="widget-header">
				<h5>{% trans %}Visiteurs{% endtrans %}</h5>
			</div>	
			<a href="javascript:">
				<span class="li_data"></span>
			</a>
			<div class="stats">
				<canvas id="chartUser" width="295" height="142"></canvas>
			</div>
		</div>

	</div>
</div>

{% endblock body %}

{% block javascripts %}
{% javascripts 
	'@CMSAdminBundle/Resources/public/js/Chart.js/Chart.min.js'
%}
	<script type="text/javascript" src="{{ asset_url }}"></script>
{% endjavascripts %}
<script type="text/javascript">
	var ctx = document.getElementById("myChart").getContext("2d");
	var data = {
	labels : ["Mars","Avril","Mai"],
	datasets : [
			{
				fillColor : "rgba(246, 88, 87, 0.5)",
				strokeColor : "rgba(246, 88, 87, 1)",
				pointColor : "rgba(246, 88, 87, 1)",
				pointStrokeColor : "#fff",
				data : [3,2,6]
			}
		]
	}
	var options = {scaleShowGridLines : false, scaleFontFamily : "'Open Sans'", scaleFontSize : 11, scaleOverride : true, scaleStartValue : 2, scaleSteps : 4, scaleStepWidth : 1}
	var myNewChart = new Chart(ctx).Line(data, options);	

	var datausers = {
		labels : ["Mars","Avril","Mai"],
		datasets : [
			{
				fillColor : "rgba(246, 88, 87, 0.5)",
				strokeColor : "rgba(246, 88, 87, 1)",
				pointColor : "rgba(246, 88, 87, 1)",
				pointStrokeColor : "#fff",
				data : [20, 13, 17]
			}
		]
	}
	var optionsuser = {scaleShowGridLines : false, scaleFontFamily : "'Open Sans'", scaleFontSize : 11, scaleOverride : true, scaleStartValue : 11, scaleSteps : 7, scaleStepWidth : 1}
	var context = document.getElementById("chartUser").getContext("2d");
	var chartUser = new Chart(context).Line(datausers, optionsuser);
</script>
{% endblock %}
